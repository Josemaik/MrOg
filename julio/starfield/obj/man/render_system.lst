ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 1.
Hexadecimal [16-Bits]



                              1 ;;;;;;;;;;;;;;;;;;;;;;;
                              2 ;; Render System
                              3 ;;   Definition to render entities
                              4 ;;
                              5 .module Render_System
                              6 
                              7 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                              8 ;; Global Symbols
                              9 ;;
                             10 .globl rendersys_update
                             11 .globl cpct_getScreenPtr_asm
                             12 .globl cpct_drawSolidBox_asm
                             13 .globl man_entity_getEntitySize
                             14 
                             15 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             16 ;; Code
                             17 ;;
                             18 .area _CODE
                             19 
   0000                      20 rendersys_init::
   0000 C9            [10]   21     ret
                             22 
                             23 ;; Input
                             24 ;;   IX: Pointer to first entity to render
                             25 ;;    A: Number of entities to render
   0001                      26 rendersys_update::
                             27 
   0001                      28 _renloop:
   0001 F5            [11]   29     push af
                             30 
   0002 11 00 C0      [10]   31     ld  de, #0xC000
   0005 DD 4E 01      [19]   32     ld   c, 1(ix)    ;; X
   0008 DD 46 02      [19]   33     ld   b, 2(ix)    ;; Y
   000B CD 00 00      [17]   34     call cpct_getScreenPtr_asm
                             35 
   000E EB            [ 4]   36     ex  de, hl
   000F DD 7E 04      [19]   37     ld   a, 4(ix)    ;; Color
   0012 0E 02         [ 7]   38     ld   c, #2       ;; Width 
   0014 06 08         [ 7]   39     ld   b, #8       ;; Height 
   0016 CD 00 00      [17]   40     call cpct_drawSolidBox_asm
                             41 
   0019 F1            [10]   42     pop af
                             43 
   001A 3D            [ 4]   44     dec a
   001B C8            [11]   45     ret z
                             46 
u  001C 01 00 00      [10]   47     ld  bc, #_entity_size
   001F DD 09         [15]   48     add ix, bc
   0021 18 DE         [12]   49     jr _renloop
