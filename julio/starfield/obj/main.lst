ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 1.
Hexadecimal [16-Bits]



                              1 ;;;;;;;;;;;;;;;;;;;;;;;
                              2 ;; Main
                              3 ;;   
                              4 .module Main
                              5 
                              6    .area _DATA
                              7    .area _CODE
                              8 
                              9 .globl cpct_waitVSYNC_asm
                             10 
                             11 .globl entity_man_init
                             12 
                             13 .globl generate_sys_newStar
                             14 
                             15 .globl render_sys_init
                             16 .globl render_sys_update
                             17 
                             18 .globl physics_sys_init
                             19 .globl physics_sys_update
                             20 
                             21 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             22 ;; MAIN 
                             23 ;;
   0000                      24 _main::
                             25 
                             26    ;; Init systems
   0000 CD 00 00      [17]   27    call render_sys_init
   0003 CD 00 00      [17]   28    call physics_sys_init
   0006 CD 00 00      [17]   29    call entity_man_init
                             30 
   0009                      31 loop:
                             32 
                             33    ;;;;;;;;;;;;;;;;;;;
                             34    ;; Generate Stars 
                             35    ;;
                             36    ;; call generate_sys_newStar
                             37 
                             38    ;;;;;;;;;;;;;;;;;;;
                             39    ;; Physics
                             40    ;;
   0009 CD 00 00      [17]   41    call entity_man_getArray   ;; guarda en IX el _entity_array y en A el _num_entities
   000C CD 00 00      [17]   42    call physics_sys_update
                             43 
                             44    ;; waitNVSyncs 2
   000F CD 00 00      [17]   45    call cpct_waitVSYNC_asm
                             46 
                             47    ;;;;;;;;;;;;;;;;;;;
                             48    ;; Render
                             49    ;;
   0012 CD 00 00      [17]   50    call entity_man_getArray   ;; guarda en IX el _entity_array y en A el _num_entities
   0015 CD 00 00      [17]   51    call render_sys_update
                             52 
   0018 18 EF         [12]   53    jr   loop
