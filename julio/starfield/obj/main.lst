ASxxxx Assembler V02.00 + NoICE + SDCC mods  (Zilog Z80 / Hitachi HD64180), page 1.
Hexadecimal [16-Bits]



                              1 .module Main
                              2 
                              3    .area _DATA
                              4    .area _CODE
                              5 
                              6 .globl cpct_disableFirmware_asm
                              7 
                              8 .globl _num_entities
                              9 .globl _entity_array
                             10 .globl man_entity_create
                             11 .globl man_entity_getEntityArray_IX
                             12 .globl man_entity_getNumEntities_A
                             13 
                             14 .globl rendersys_init
                             15 .globl rendersys_update
                             16 
                             17 ;; tipo , x , y , vx , color
   0000 01 14 14 02 FF       18 prueba:  .db 1, 20, 20 , 2 , 0xFF
   0005 01 0C 1E 02 F0       19 prueba2: .db 1, 12, 30 , 2 , 0xF0
                             20 
                             21 ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             22 ;; MAIN 
                             23 ;;
   000A                      24 _main::
   000A CD 00 00      [17]   25    call cpct_disableFirmware_asm
                             26 
                             27    ;; Init systems
   000D CD 00 00      [17]   28    call rendersys_init
                             29 
   0010 21 00 00      [10]   30    ld   hl, #prueba
   0013 CD 00 00      [17]   31    call man_entity_create
   0016 21 05 00      [10]   32    ld   hl, #prueba2
   0019 CD 00 00      [17]   33    call man_entity_create
                             34 
   001C                      35 loop:
   001C CD 00 00      [17]   36    call man_entity_getEntityArray_IX   ;; guarda en IX el _entity_array
   001F CD 00 00      [17]   37    call man_entity_getNumEntities_A    ;; guarda en  A el _num_entities
   0022 CD 00 00      [17]   38    call rendersys_update
                             39 
   0025 18 F5         [12]   40    jr    loop
